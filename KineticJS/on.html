<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="kinetic-v5.1.0.min.js"></script>
</head>
<body>
<div id="container"></div>
<script>
    window.onload = function () {
        /*var stage = new Kinetic.Stage({
            container: 'container',
            width: 600,
            height: 400
        });
        var layer = new Kinetic.Layer();
        //创建 config 参数
        var config = {
            x: 200,
            y: 150,
            width: 200,
            height: 100,
            fill: 'blue',
            stroke: 'black',
            strokeWidth: 4
        };
        //创建矩形对象
        var rect = new Kinetic.Rect(config);
        //绑定事件响应方法
        rect.on('click', function () {
            alert('clicked');
        });
        //把矩形对象添加到层里
        layer.add(rect);
        //将层添加到舞台中
        stage.add(layer);*/


        var stage;

        function loadImage() {
            var image = new Image();
            image.src = './a.png';
            image.onload = function () {
                var kimage = new Kinetic.Image({
                    x: 100,
                    y: 100,
                    image: image,
                    detectionType: 'pixel'
                });
                //绑定事件响应方法
                kimage.on('click', function () {
                    alert('image clicked');
                });
                var layer = new Kinetic.Layer();
                layer.add(kimage);
                stage.add(layer);
                //保存数据以相应事件
                kimage.saveData();
            };
            //图像需要与此页面在同一个服务器上，否则会 Javascript 会抛出安全异常
            // image.src = 'http://localhost/FSM.jpg';

        }

        window.onload = function () {
            stage = new Kinetic.Stage({
                container: 'container',
                width: 600,
                height: 400
            });
            var rect = new Kinetic.Rect({
                x: 400,
                y: 100,
                width: 100,
                height: 100,
                fill: 'red',
                detectionType: 'pixel'
            });
            //绑定事件响应方法
            rect.on('click', function () {
                alert('rect clicked');
            });
            var layer = new Kinetic.Layer();
            layer.add(rect);
            stage.add(layer);
            //保存数据以相应事件
            rect.saveData();
            loadImage();
        };
    };
</script>

</body>
</html>